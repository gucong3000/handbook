<!doctype html>
<html>
<head>
<meta name="Author" content="Snakevil">
<meta charset="utf-8">
<link href="../_shared/basic.css" rel="stylesheet">
<script src="../_shared/example.js" id="oScriptExample"></script>
</head>

<body>
	<div id="main">
		<h1>使用<span>literalContent</span>属性</h1>
		<hr>
		<p>本总概介绍了<a href="../elements/component.html"><span>PUBLIC:COMPONENT</span></a>元素的<b><span>literalContent</span></b>属性，并描述了如何使用它来强化网页的方式。在定义一份<span>HTML</span>组件<span>(HTC)</span>时，或在定义一个动态行为的主要特征时，你需要使用<b><span>PUBLIC:COMPONENT</span></b>元素。你可以将<span>DHTML</span>行为以附加性行为的方式实现，并以此来修改一个已存在元素的行为；也可以元素行为的方式定义一个自定义元素。在确认<b><span>MsHTML</span></b>是否解析自定义元素的内容时，使用<b><span>literalContent</span></b>就很有必要了。</p>
		<p>本文档讨论了下面的主题。</p>
		<ul>
			<li><a href="#Prerequisites">先决条件</a></li>
			<li><a href="#Introduction">固化内容的简介</a></li>
			<li><a href="#LiteralContentElementBehaviors">使用固化内容的元素行为</a></li>
			<li><a href="#Specifying_literalContent">指定<span>literalContent</span>属性</a></li>
			<li><a href="#related_topics">相关主题</a></li>
		</ul>
		<h2><label>Prerequisites</label>先决条件<a name="Prerequisites" id="Prerequisites"></a></h2>
		<p>要让本文所包含的信息能够给你带来最大的帮助，你应该熟悉于<span>DHTML</span>行为，并对编写脚本型行为的基本观念有一定的了解。<a href="#related_topics">《相关主题》</a>部分提供了一些关于<span>DHTML</span>行为方面有用的参考。</p>
		<h2><label>Introduction to Literal Content</label>固化内容的简介<a name="Introduction" id="Introduction"></a></h2>
		<p><b>固化内容</b>的使用最适合使用实例来说明。因此，此部分回顾了两个最常见的使用固化内容的元素：<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/xml.asp"><span>XML</span></a>和<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/script.asp"><span>SCRIPT</span></a>。每个元素均在各自不同的场景中说明了固化内容的效力。<span>MsHTML</span>引擎自动将<b><span>XML</span></b>和<b><span>SCRIPT</span></b>元素辨识为固化内容元素。使用这些元素，你可以将固化内容放置在元素的开启和关闭标签内，或从一个指定的文件中读取内容。</p>
		<p>下面的小代码块是一个<b><span>XML</span></b>元素的实例。</p>
		<code>&lt;<b>XML</b>&nbsp;ID=&quot;foodXML&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&lt;CATEGORIES&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FOODTYPE&gt;FRUIT&lt;/FOODTYPE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FOODTYPE&gt;VEGETABLE&lt;/FOODTYPE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FOODTYPE&gt;MEAT&lt;/FOODTYPE&gt;<br>&nbsp;&nbsp;&nbsp;&lt;/CATEGORIES&gt;<br>&lt;/<b>XML</b>&gt;</code>
		<p><span>MsHTML</span>将<b><span>XML</span></b>元素的内容作为固化内容处理，因此并不解释或渲染可扩展标记语言<span>(XML)</span>格式的数据。相应的，固化内容被传递给微软<span>XML</span><span>(MsXML)</span>解析器，对该数据岛进行解释。</p>
		<p>下面的小代码块是一个<b><span>SCRIPT</span></b>元素的实例。</p>
		<code>&lt;<b>SCRIPT</b>&nbsp;language=&quot;JScript&quot;&gt;<br>&nbsp;&nbsp;var&nbsp;sTagMessage&nbsp;=&nbsp;&quot;This&nbsp;is&nbsp;Literal&nbsp;Content.&quot;;<br>&nbsp;&nbsp;alert(sTagMessage);<br>&lt;/<b>SCRIPT</b>&gt;</code>
		<p><span>MsHTML</span>并不解析<b><span>SCRIPT</span></b>元素中的固化内容。相应的，<span>MsHTML</span>将固化内容传递给脚本引擎，对其进行解析并执行。</p>
		<p>正如上面的例子索要演示的，你可以使用固化内容来内嵌高结构化的数据甚至一种语言到网页中。<span>MsHTML</span>并不解析或渲染固化内容，而是由一个指定的解析器、引擎或其他组件来完成这个操作。然而，尽管上面的例子说明了固化内容的一些强有力的用法，但并非可以应用到任意的结构数据或语言上。例如，一块固化内容只是由一些随机字符组成，这种情况也并不违反规则。固化内容的意思是<span>MsHTML</span>不对其进行解析或渲染的文件内数据。</p>
		<p>为了证明上面的观点，下面标签内的一些“随机”的字符串也可组成固化内容。</p>
		<code>&lt;myTag&gt;R5a3n9d3o6m%C3h5a8r8a3c7t4e2r8s&lt;/myTag&gt;</code>
		<p>很明显的，本部分所回顾的两种固化内容元素都是强力且很灵活的。但它们只是演示了其中的两种可能性。你可以使用元素行为来定义自定义标签，而它同样也可为固化内容元素。使用固化内容的自定义元素在下面的部分会被讨论。</p>
		<h2><label>Element Behaviors that use Literal Content</label>使用固化内容的元素行为<a name="LiteralContentElementBehaviors" id="LiteralContentElementBehaviors"></a></h2>
		<p>元素行为可以体现出固化内容的很大优势。固化内容可以原封不动地将信息传递给元素行为，而不将其暴露给<span>MsHTML</span>引擎。如果自定义元素的内容非常庞大，你就可以因为<span>MsHTML</span>不对其进行解析而省下大量的处理时间。</p>
		<p>当<b><span>literalContent</span></b>属性设置为<span>false</span>时，<span>MsHTML</span>引擎将自定义元素的内容作为文本和<span>HTML</span>标签的组合进行解析并渲染。<span>XML</span>标签和自定义标签同样被解析并添加到页面的文档对象模型<span>(DOM)</span>中。<span>MsHTML</span>引擎渲染它触及的任何文本。</p>
		<p>下面的例子演示了<span>MsHTML</span>是如何将自定义元素<span>&lt;lc:LCVote&gt;</span>的内容作为文本和表格进行渲染，同时被处理的还有元素行为中的文档片段。而此时<b><span>literalContent</span></b>被设置为<span>false</span>。</p>
		<div class="example">
			<code>&lt;HTML&nbsp;XMLNS:lc&gt;<br>&nbsp;&nbsp;&lt;HEAD&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;TITLE&gt;Literal&nbsp;Content&nbsp;Sample&lt;/TITLE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;?IMPORT&nbsp;namespace=&quot;lc&quot;&nbsp;implementation=&quot;LCVote.htc&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;STYLE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUTTON&nbsp;{width:&nbsp;25px;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/STYLE&gt;<br>&nbsp;&nbsp;&lt;/HEAD&gt;<br>&nbsp;&nbsp;&lt;SCRIPT&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;changeVote(oBtn)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sNewVote&nbsp;=&nbsp;oBtn.innerText;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testValue.getVote(sNewVote);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&lt;/SCRIPT&gt;<br>&nbsp;&nbsp;&lt;BODY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;H1&gt;Rate&nbsp;the&nbsp;film&lt;/H1&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;BUTTON&nbsp;onclick=&quot;changeVote(this)&quot;&gt;A&lt;/BUTTON&gt;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BUTTON&nbsp;onclick=&quot;changeVote(this)&quot;&gt;B&lt;/BUTTON&gt;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BUTTON&nbsp;onclick=&quot;changeVote(this)&quot;&gt;C&lt;/BUTTON&gt;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BUTTON&nbsp;onclick=&quot;changeVote(this)&quot;&gt;D&lt;/BUTTON&gt;&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;BUTTON&nbsp;onclick=&quot;changeVote(this)&quot;&gt;F&lt;/BUTTON&gt;&nbsp;&lt;/P&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>lc:LCVote</b>&nbsp;ID=&quot;testValue&quot;&nbsp;vote=&quot;&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<U>&lt;!--&nbsp;This&nbsp;content&nbsp;is&nbsp;parsed&nbsp;and&nbsp;rendered&nbsp;by&nbsp;MSHTML.&nbsp;--&gt;</U><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;P&gt;&lt;B&gt;&lt;U&gt;Vote&nbsp;&quot;A&quot;&nbsp;if&nbsp;you&nbsp;really&nbsp;liked&nbsp;the&nbsp;film&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;&quot;F&quot;&nbsp;if&nbsp;you&nbsp;really&nbsp;hated&nbsp;it.&lt;/U&gt;&lt;/B&gt;&lt;/P&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<U>&lt;!--&nbsp;The&nbsp;object&nbsp;model&nbsp;of&nbsp;the&nbsp;element&nbsp;behavior&nbsp;is&nbsp;appended&nbsp;here.&nbsp;--&gt;</U><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<b>lc:LCVote</b>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;HR&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DIV&gt;<br>&nbsp;&nbsp;&lt;/BODY&gt;<br>&lt;/HTML&gt;</code>
		</div>
		<p>注意下面的定义<span>LCVote</span>元素行为的<span>HTC</span>文件例子中，<b><span>literalContent</span></b>属性为<span>false</span>。</p>
		<div class="example">
			<code>&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;LCVote&quot;&nbsp;<b>literalcontent</b>=&quot;false&quot;&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;oncontentready&quot;&nbsp;onevent=&quot;init()&quot;/&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:PROPERTY&nbsp;name=&quot;vote&quot;/&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:METHOD&nbsp;name=&quot;getVote&quot;/&gt;<br>&lt;/PUBLIC:COMPONENT&gt;<br>&lt;SCRIPT&gt;<br>&nbsp;&nbsp;var&nbsp;oDiv&nbsp;=&nbsp;document.createElement(&quot;div&quot;);<br>&nbsp;&nbsp;var&nbsp;oTable&nbsp;=&nbsp;document.createElement(&quot;table&quot;);<br>&nbsp;&nbsp;var&nbsp;oTr&nbsp;=&nbsp;document.createElement(&quot;tr&quot;);<br>&nbsp;&nbsp;var&nbsp;oTd&nbsp;=&nbsp;document.createElement(&quot;td&quot;);<br><br>&nbsp;&nbsp;function&nbsp;init()<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;element.style.display&nbsp;=&nbsp;&quot;block&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//Appending&nbsp;the&nbsp;behavior's&nbsp;object&nbsp;model&nbsp;to&nbsp;the&nbsp;custom&nbsp;element.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;element.appendChild(oDiv);<br>&nbsp;&nbsp;&nbsp;&nbsp;element.appendChild(oTable);<br>&nbsp;&nbsp;&nbsp;&nbsp;oTr&nbsp;=&nbsp;oTable.insertRow();<br>&nbsp;&nbsp;}<br><br>&nbsp;&nbsp;function&nbsp;getVote(sNewVote)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//The&nbsp;vote&nbsp;attribute&nbsp;is&nbsp;used&nbsp;to&nbsp;store&nbsp;all&nbsp;the&nbsp;preceding&nbsp;votes.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;element.vote&nbsp;=&nbsp;element.vote&nbsp;+&nbsp;sNewVote;<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;iNumVotes&nbsp;=&nbsp;element.vote.length;<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//Each&nbsp;row&nbsp;of&nbsp;the&nbsp;table&nbsp;can&nbsp;be&nbsp;10&nbsp;cells&nbsp;across.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;((iNumVotes&nbsp;-&nbsp;1)&nbsp;%&nbsp;10&nbsp;==&nbsp;0)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oTr&nbsp;=&nbsp;oTable.insertRow();<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//Placing&nbsp;the&nbsp;new&nbsp;vote&nbsp;into&nbsp;a&nbsp;cell.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;oTd&nbsp;=&nbsp;oTr.insertCell();<br>&nbsp;&nbsp;&nbsp;&nbsp;oTd.style.color&nbsp;=&nbsp;&quot;darkgreen&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;oTd.innerHTML&nbsp;=&nbsp;sNewVote;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//Recovering&nbsp;all&nbsp;scores,&nbsp;converting&nbsp;them&nbsp;to&nbsp;numeric&nbsp;values,&nbsp;and&nbsp;averaging&nbsp;them.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;iTotalScore&nbsp;=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;iNumVotes;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;switch(element.vote.charAt(i))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;A&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTotalScore&nbsp;+=&nbsp;4;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;B&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTotalScore&nbsp;+=&nbsp;3;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;C&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTotalScore&nbsp;+=&nbsp;2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;D&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTotalScore&nbsp;+=&nbsp;1;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case&nbsp;&quot;F&quot;:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iTotalScore&nbsp;+=&nbsp;0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;voteAvg&nbsp;=&nbsp;iTotalScore/iNumVotes;<br>&nbsp;&nbsp;&nbsp;&nbsp;voteAvg&nbsp;=&nbsp;Math.round(voteAvg);<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;rating&nbsp;=&nbsp;&quot;&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//Assigning&nbsp;stars&nbsp;to&nbsp;represent&nbsp;the&nbsp;average&nbsp;score.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j&nbsp;=&nbsp;1;&nbsp;j&nbsp;&lt;=&nbsp;voteAvg;&nbsp;j++)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rating&nbsp;+=&nbsp;&quot;*&nbsp;&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rating==&quot;&quot;)&nbsp;{rating&nbsp;=&nbsp;&quot;Bomb&quot;;}<br>&nbsp;&nbsp;&nbsp;&nbsp;oDiv.innerHTML&nbsp;=&nbsp;&quot;Average&nbsp;score:&nbsp;&quot;&nbsp;+&nbsp;rating;<br>&nbsp;&nbsp;&nbsp;&nbsp;oDiv.style.color&nbsp;=&nbsp;&quot;blue&quot;;<br>&nbsp;&nbsp;}<br>&lt;/SCRIPT&gt;</code>
		</div>
		<button href="../examples/"></button>
		<p>当<b><span>literalContent</span></b>设置为<span>true</span>时，自定义元素的固化内容就不再适合<span>MsHTML</span>解析器。元素行为可以使用此特性带来极大的好处：固化内容可以传递给<span>HTC</span>并将数据理解为结构检索语言<span>(SQL)</span>的语句、<span>XML</span>数据或其他被<span>HTC</span>内脚本解析的自定义标记。</p>
		<p>对<span>MsHTML</span>引擎不可见只是固化内容与原始元素内容区别对待的众多方式之一。下面的小代码块展示了固化内容如何影响<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/innertext.asp"><span>innerText</span></a>和<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/innerhtml.asp"><span>innerHTML</span></a>属性。</p>
		<p>此代码块展示的是一个包含了简单元素行为的<span>HTML</span>文档，在这种情况下，行为打开了一个显示着自定义元素内容的消息框。</p>
		<code>&lt;HTML&nbsp;XMLNS:lcsample&gt;<br>&nbsp;&nbsp;&lt;?IMPORT&nbsp;namespace&nbsp;=&nbsp;&quot;lcsample&quot;&nbsp;implementation&nbsp;=&nbsp;&quot;simple.htc&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&lt;BODY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>lcsample:simple</b>&gt;&lt;P&gt;This&nbsp;text&nbsp;is&nbsp;inside&nbsp;the&nbsp;custom&nbsp;element.&lt;/P&gt;&lt;/<b>lcsample:simple</b>&gt;<br>&nbsp;&nbsp;&lt;/BODY&gt;<br>&lt;/HTML&gt;</code>
		<p>定义该行为的<span>HTC</span>包含下面的内容：</p>
		<code>&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;simple&quot;&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;ondocumentready&quot;&nbsp;onevent=&quot;main()&quot;&nbsp;<b>literalcontent</b>=&quot;false&quot;/&gt;<br>&lt;/PUBLIC:COMPONENT&gt;<br>&lt;SCRIPT&nbsp;language=&quot;JScript&quot;&gt;<br>&nbsp;&nbsp;function&nbsp;main()&nbsp;<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ebText&nbsp;=&nbsp;element.innerText;<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ebHTML&nbsp;=&nbsp;element.innerHTML;<br>&nbsp;&nbsp;&nbsp;&nbsp;alert(&quot;innerText:&quot;&nbsp;+&nbsp;ebText&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;innerHTML:&quot;&nbsp;+&nbsp;ebHTML);<br>&nbsp;&nbsp;}<br>&lt;/SCRIPT&gt;</code>
		<button href="../examples/"></button>
		<p>注意<b><span>literalContent</span></b>属性为默认值<span>false</span>。因此该行为并不将自定义元素的内容作为固化内容处理。<b><span>PUBLIC:COMPONENT</span></b>只设置了元素行为所必需的<b><span>tagName</span></b>属性。</p>
		<p>元素行为在主文档发生<a href="../events/documentready.html"><span>ondocumentready</span></a>事件时运行<i><span>main</span></i>函数。当该元素运行时，<b><span>innerText</span></b>和<b><span>innerHTML</span></b>属性显示在消息框中，在<b><span>literalContent</span></b>为<span>false</span>时两者都是可在脚本中访问的。</p>
		<p>因为没有使用<b><span>literalContent</span></b>属性，<span>&lt;lcsample:simple&gt;</span>元素内的文本并没有作为固化内容处理，并因此渲染在网页中。</p>
		<p>而现在将<b><span>literalCotnent</span></b>属性设置为<span>true</span>，如下面的例子所示，元素内容被作为固化内容处理，同时内容并不渲染在网页中。同样的，对于固化内容<b><span>innerText</span></b>属性不再生效，然而<b><span>innerHTML</span></b>属性仍是一个可读写的属性。</p>
		<code>&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;simple&quot;&nbsp;<b>literalcontent</b>=&quot;true&quot;&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;ondocumentready&quot;&nbsp;onevent=&quot;main()&quot;&nbsp;/&gt;<br>&lt;/PUBLIC:COMPONENT&gt;<br>&lt;SCRIPT&nbsp;language=&quot;JScript&quot;&gt;<br>&nbsp;&nbsp;function&nbsp;main()&nbsp;<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ebText&nbsp;=&nbsp;element.innerText;<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;ebHTML&nbsp;=&nbsp;element.innerHTML;<br>&nbsp;&nbsp;&nbsp;&nbsp;alert(&quot;innerText:&quot;&nbsp;+&nbsp;ebText&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;innerHTML:&quot;&nbsp;+&nbsp;ebHTML);<br>&nbsp;&nbsp;}<br>&lt;/SCRIPT&gt;</code>
		<button href="../examples/"></button>
		<p>此外，如果自定义元素中包含标签，自定义元素的<b><span>innerHTML</span></b>属性可以在<span>HTC</span>文件中被解析。而当<b><span>literalContent</span></b>设置为<span>false</span>时，该元素会被直接解析。</p>
		<code>oChildElement&nbsp;=&nbsp;element.children[0];</code>
		<p>当<b><span>literalContent</span></b>设置为<span>true</span>时，元素的<b><span>innerHTML</span></b>属性首先传递到可以在<span>HTC</span>文件内部被解析的另一元素。</p>
		<code>var&nbsp;<b>oRoot</b>&nbsp;=&nbsp;document.createElement(&quot;DIV&quot;);<br><b>oRoot</b>.innerHTML&nbsp;=&nbsp;element.innerHTML;<br>oChildElement&nbsp;=&nbsp;<b>oRoot</b>.children[0];</code>
		<p>自定义元素的内容可能会非常庞大。例如，对于支持自定义标记语言的行为，就很难预测自定义元素内容的大小。在不使用固化内容时，自定义元素的内容会被解析两次：其一是由<span>MsHTML</span>完成，而另一次则是由<span>HTC</span>文件中的脚本完成。因此，使用固化内容可以避免被<span>MsHTML</span>解析，从而减少了一半的解析次数来改进性能。这在元素行为处理庞大的数据时尤其重要。</p>
		<p>下面的<span>HTC</span>文件的例子，创建了一个<span>LIST</span>元素行为，且<b><span>literalContent</span></b>属性被设置为<span>true</span>。脚本解析主文档数据岛中的标签并生成<span>HTML</span>元素，然后将其添加到<span>HTC</span>文件的对象模型中。注意为封装文档片段而使用的<a href="intrviwlnk.html"><span>Viewlink</span></a>。</p>
		<div class="example">
			<code>&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;LIST&quot;&nbsp;literalcontent=&quot;true&quot;&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:PROPERTY&nbsp;name=&quot;name&quot;/&gt;<br>&nbsp;&nbsp;<U>&lt;!--&nbsp;Element&nbsp;type&nbsp;can&nbsp;be&nbsp;either&nbsp;&quot;check&quot;&nbsp;or&nbsp;&quot;bulleted&quot;.&nbsp;--&gt;</U><br>&nbsp;&nbsp;&lt;PUBLIC:PROPERTY&nbsp;name=&quot;type&quot;/&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;oncontentready&quot;&nbsp;onevent=&quot;start()&quot;/&gt;<br>&lt;/PUBLIC:COMPONENT&gt;<br>&lt;SCRIPT&nbsp;language=&quot;JScript&quot;&gt;<br>&nbsp;&nbsp;element.style.display&nbsp;=&nbsp;&quot;block&quot;;<br>&nbsp;&nbsp;element.style.marginLeft&nbsp;=&nbsp;&quot;12px&quot;;<br>&nbsp;&nbsp;var&nbsp;listFontWeight&nbsp;=&nbsp;&quot;bold&quot;;<br>&nbsp;&nbsp;var&nbsp;listFontColor&nbsp;=&nbsp;&quot;blue&quot;;<br>&nbsp;&nbsp;var&nbsp;ruleLineColor&nbsp;=&nbsp;&quot;green&quot;;<br>&nbsp;&nbsp;function&nbsp;start()&nbsp;<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;sListType&nbsp;=&nbsp;element.type.toLowerCase();<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oDiv&nbsp;=&nbsp;document.createElement(&quot;DIV&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oHeading&nbsp;=&nbsp;document.createElement(&quot;H3&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sListType&nbsp;==&nbsp;&quot;check&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oMainElement&nbsp;=&nbsp;document.createElement(&quot;FORM&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oMainElement.mergeAttributes(element,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(sListType&nbsp;==&nbsp;&quot;bulleted&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oMainElement&nbsp;=&nbsp;document.createElement(&quot;UL&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;else<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//oRoot&nbsp;is&nbsp;a&nbsp;placeholder&nbsp;for&nbsp;the&nbsp;markup&nbsp;contained&nbsp;by&nbsp;the&nbsp;element</U><br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//and&nbsp;can&nbsp;be&nbsp;a&nbsp;made-up&nbsp;element.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oRoot&nbsp;=&nbsp;document.createElement(&quot;xList&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;oRoot.innerHTML&nbsp;=&nbsp;element.innerHTML;<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//This&nbsp;&quot;for&quot;&nbsp;loop&nbsp;parses&nbsp;the&nbsp;element&nbsp;markup&nbsp;contained&nbsp;in&nbsp;oRoot.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;oRoot.children.length;&nbsp;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<U>//oItem&nbsp;holds&nbsp;in&nbsp;turn&nbsp;each&nbsp;of&nbsp;the&nbsp;tags&nbsp;within&nbsp;oRoot.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oItem&nbsp;=&nbsp;oRoot.children[i];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oItem.style.fontWeight&nbsp;=&nbsp;listFontWeight;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oItem.style.color&nbsp;=&nbsp;listFontColor;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<U>//Tags&nbsp;can&nbsp;be&nbsp;either&nbsp;&lt;LISTITEM&gt;&nbsp;or&nbsp;&lt;RULE&gt;.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sTagName&nbsp;=&nbsp;oItem.tagName;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sTagName&nbsp;==&nbsp;&quot;LISTITEM&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sListType&nbsp;==&nbsp;&quot;check&quot;)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeCheckbox(oItem,oMainElement);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(sListType&nbsp;==&nbsp;&quot;bulleted&quot;)&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeBulletedList(oItem,oMainElement);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if&nbsp;(sTagName&nbsp;==&nbsp;&quot;RULE&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeRuleLine(oItem,oMainElement);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;oHeading.innerHTML&nbsp;=&nbsp;element.name;<br>&nbsp;&nbsp;&nbsp;&nbsp;oDiv.appendChild(oHeading);<br>&nbsp;&nbsp;&nbsp;&nbsp;oDiv.appendChild(oMainElement);<br>&nbsp;&nbsp;&nbsp;&nbsp;document.body.appendChild(oDiv);<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>//viewLink&nbsp;encapsulates&nbsp;the&nbsp;document&nbsp;fragment.</U><br>&nbsp;&nbsp;&nbsp;&nbsp;<b>defaults.viewLink</b>&nbsp;=&nbsp;document;<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;function&nbsp;makeCheckbox(listItem,parentElement)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oInput&nbsp;=&nbsp;document.createElement(&quot;INPUT&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oSpan&nbsp;=&nbsp;document.createElement(&quot;SPAN&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oBreak&nbsp;=&nbsp;document.createElement(&quot;BR&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;oInput.type&nbsp;=&nbsp;&quot;checkbox&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;oSpan.mergeAttributes(listItem,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;oSpan.innerHTML&nbsp;=&nbsp;oSpan.name;<br>&nbsp;&nbsp;&nbsp;&nbsp;parentElement.appendChild(oInput);<br>&nbsp;&nbsp;&nbsp;&nbsp;parentElement.appendChild(oSpan);<br>&nbsp;&nbsp;&nbsp;&nbsp;parentElement.appendChild(oBreak);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;function&nbsp;makeBulletedList(listItem,parentElement)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oLi&nbsp;=&nbsp;document.createElement(&quot;LI&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;oLi.mergeAttributes(listItem,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;oLi.innerHTML&nbsp;=&nbsp;oLi.name;<br>&nbsp;&nbsp;&nbsp;&nbsp;parentElement.appendChild(oLi);<br>&nbsp;&nbsp;}<br>&nbsp;&nbsp;function&nbsp;makeRuleLine(listRule,parentElement)<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;oHR&nbsp;=&nbsp;document.createElement(&quot;HR&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;oHR.mergeAttributes(listRule,false);<br>&nbsp;&nbsp;&nbsp;&nbsp;oHR.width&nbsp;=&nbsp;listRule.width;<br>&nbsp;&nbsp;&nbsp;&nbsp;oHR.style.color&nbsp;=&nbsp;ruleLineColor;<br>&nbsp;&nbsp;&nbsp;&nbsp;oHR.align&nbsp;=&nbsp;&quot;left&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;parentElement.appendChild(oHR);<br>&nbsp;&nbsp;}<br>&lt;/SCRIPT&gt;</code>
		</div>
		<p>下面的<span>HTML</span>文件使用了该<span>LIST</span>元素行为。</p>
		<div class="example">
			<code>&lt;HTML&nbsp;XMLNS:n&gt;<br>&nbsp;&nbsp;&lt;HEAD&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;TITLE&gt;Literal&nbsp;Content&nbsp;Sample&lt;/TITLE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;?IMPORT&nbsp;namespace=&quot;n&quot;&nbsp;implementation=&quot;LCListSample.htc&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&lt;/HEAD&gt;<br>&nbsp;&nbsp;&lt;BODY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;H1&gt;Literal&nbsp;Content&nbsp;Sample&lt;/H1&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<U>&lt;!--&nbsp;LIST&nbsp;can&nbsp;be&nbsp;one&nbsp;of&nbsp;two&nbsp;types:&nbsp;&quot;check&quot;&nbsp;or&nbsp;bulleted&quot;&nbsp;and&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it&nbsp;can&nbsp;contain&nbsp;LISTITEM&nbsp;and&nbsp;RULE&nbsp;tags.&nbsp;--&gt;</U><br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:LIST</b>&nbsp;id=&quot;root&quot;&nbsp;type=&quot;check&quot;&nbsp;name=&quot;My&nbsp;To&nbsp;Do&nbsp;List&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:LISTITEM</b>&nbsp;id=&quot;n1&quot;&nbsp;name=&quot;1st&nbsp;Item&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:LISTITEM</b>&nbsp;id=&quot;n2&quot;&nbsp;name=&quot;2nd&nbsp;Item&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:RULE</b>&nbsp;id=&quot;r1&quot;&nbsp;width=&quot;85px&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:LISTITEM</b>&nbsp;id=&quot;n3&quot;&nbsp;name=&quot;3rd&nbsp;Item&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:LISTITEM</b>&nbsp;id=&quot;n4&quot;&nbsp;name=&quot;4th&nbsp;Item&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>n:RULE</b>&nbsp;id=&quot;r2&quot;&nbsp;width=&quot;85px&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<b>n:LIST</b>&gt;<br>&nbsp;&nbsp;&lt;/BODY&gt;<br>&lt;/HTML&gt;</code>
		</div>
		<button href="../examples/"></button>
		<p>上面的例子与微软<span>Internet Explorer</span>创建<span>WebControls</span>的方式很相似。虽然<span>WebControls</span>要复杂很多，但它们也展示了如何使用固化内容来改进性能，是相当精彩的范例。请阅读<a href="http://msdn.microsoft.com/workshop/webcontrols/overview/overview.asp"><span>Internet Explorer WebControls</span></a>，特别是客户端行为部分以获取更多的信息。</p>
		<h2><label>Specifying the literalContent Attribute</label>指定<span>literalContent</span>属性<a name="Specifying_literalContent" id="Specifying_literalContent"></a></h2>
		<p><b><span>literalContent</span></b>属性可以为三个可能<b>字符串</b>值之一：<span>false</span>（默认值），<span>true</span>，或者在<span>Internet Explorer 6</span>及后继版本中可用的新值<span>nested</span>。下面的部分描述了<b><span>literalContent</span></b>的每个可能值。</p>
		<h3><span>literalContent = False</span></h3>
		<p>如果<b><span>literalContent</span></b>为<span>false</span>，自定义标签中的内容作为<span>HTML</span>被解析。在下面的<span>HTML</span>块中，自定义标签<i><span>&lt;myns:mytag&gt;</span></i>中的段元素被解析并渲染为其他标签。</p>
		<code>&lt;myns:mytag&gt;<br>&nbsp;&nbsp;&lt;P&gt;This&nbsp;is&nbsp;a&nbsp;paragraph.&lt;/P&gt;<br>&lt;/myns:mytag&gt;</code>
		<h3><span>literalContent = True</span></h3>
		<p>如果<b><span>literalContent</span></b>为<span>true</span>，自定义标签中的内容不作为<span>HTML</span>被解析或渲染；相应的，它被处理为一个数据岛。一个自定义元素内数据岛的用法是放置一段<span>XML</span>代码，如下面的代码块所示。</p>
		<code>&lt;myns:mytrees&gt;<br>&nbsp;&nbsp;&lt;trees&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tree&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;Birch&lt;/name&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;height&nbsp;unit=&quot;foot&quot;&gt;10&lt;/height&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tree&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tree&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;Aspen&lt;/name&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;height&nbsp;unit=&quot;foot&quot;&gt;4&lt;/height&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tree&gt;<br>&nbsp;&nbsp;&lt;/trees&gt;<br>&lt;/myns:mytrees&gt;</code>
		<p>数据岛并不由<span>HTML</span>或标签化的数据结构组成。例如，某个自定义元素可能使用数据岛来放置一条查询语句，然后将其运用在行为之中。如下面的例子所示。</p>
		<code>&lt;sql:query&nbsp;id=&quot;sqlquery&quot;&gt;<br>&nbsp;&nbsp;SELECT&nbsp;name,&nbsp;id<br>&nbsp;&nbsp;FROM&nbsp;sysobjects<br>&nbsp;&nbsp;WHERE&nbsp;type&nbsp;=&nbsp;'U'<br>&nbsp;&nbsp;ORDER&nbsp;BY&nbsp;name<br>&lt;/sql:query&gt;</code>
		<p>数据岛的内容可以在<span>HTC</span>文件的脚本中使用下面的格式进行访问。</p>
		<code>var&nbsp;sDataIslandContent&nbsp;=&nbsp;element.innerHTML;</code>
		<p>事实上你可以在自定义元素中放置任何数据。在使用<b><span>literalContent</span></b>时，请确认编写了合适的脚本来解析并处理数据岛中的内容。</p>
		<h3><span>literalContent = nested</span></h3>
		<p><b><span>literalContent</span></b>属性的可能值<span>nested</span>在<span>Internet Explorer 6</span>及后继版本中可用。在一个自定义标签内嵌在另一同名自定义标签中时使用<span>nested</span>值。下面的例子展示了如何实现这一目的。</p>
		<code>&lt;myns:mytag&nbsp;id=&quot;instance_1&quot;&gt;<br>&nbsp;&nbsp;&lt;myns:mytag&nbsp;id=&quot;instance_2&quot;&gt;<br>&nbsp;&nbsp;&lt;/myns:mytag&gt;<br>&lt;/myns:mytag&gt;</code>
		<p>在下面的例子中，当<b><span>literalContent</span></b>设置为<span>true</span>时，<span>MsHTML</span>是以粗体标示的结构来理解嵌套自定义标签的。</p>
		<code><b>&lt;myns:mytag&nbsp;id=&quot;instance_1&quot;&gt;</b><br>&nbsp;&nbsp;&lt;myns:mytag&nbsp;id=&quot;instance_2&quot;&gt;<br>&nbsp;&nbsp;<b>&lt;/myns:mytag&gt;</b><br>&lt;/myns:mytag&gt;</code>
		<p>解析器无法正确的理解嵌套的元素。解析器会查找第一个开始标签，然后使用第一次出现的<span>&lt;/myns:mytag&gt;</span>作为第一个<i><span>mytag</span></i>元素的关闭标签。其结果是第二个<i><span>mytag</span></i>元素的开始标签被忽略，而第二个该元素的关闭标签被忽略，因为它们在解析器看来是无效的元素。这样的话，第二次出现的<i><span>mytag</span></i>开始标签变成第一个<i><span>mytag</span></i>元素的固化内容。因此，<span>MsHTML</span>解析器在处理上面的例子时只能找到一个<i><span>mytag</span></i>元素。</p>
		<p>如果<b><span>literalContent</span></b>属性被设置为<span>nested</span>，解析器就能够如下例代码块中粗体标示的结构一般正确地理解嵌套的自定义元素。</p>
		<code><b>&lt;myns:mytag&nbsp;id=&quot;instance_1&quot;&gt;</b><br>&nbsp;&nbsp;&lt;myns:mytag&nbsp;id=&quot;instance_2&quot;&gt;<br>&nbsp;&nbsp;&lt;/myns:mytag&gt;<br><b>&lt;/myns:mytag&gt;</b></code>
		<p>通过设置<b><span>literalContent</span></b>为<span>nested</span>，<span>MsHTML</span>解析器能够准确的分析开始和关闭标签之间的对应关系，并因此可以正确地将第一次出现的开始标签和最后一次出现的关闭标签之间的所有内容识别为固化内容。这也意味着第二次出现的<i><span>mytag</span></i>自定义元素作为固化内容，成为第一次出现的<i><span>mytag</span></i>自定义元素的数据岛。</p>
		<p><b>一定注意：</b> 并不推荐使用<span>nested</span>固化内容。主文档中的脚本无法访问被嵌套的元素，因为它们成为了自定义元素的固化内容。在前面的例子里，元素<span>&lt;myns:mytag id=&quot;instance_1&quot;&gt;</span>被理解为自定义元素，而元素<span>&lt;myns:mytag id=&quot;instance_2&quot;&gt;</span>则被理解为其固化内容。页面设计者并不知道部分元素是固化内容。当他们生成嵌套的标签并编写脚本尝试访问固化内容中的元素时，出现的错误会让他们无法理解。因此，应当尽量避免使用嵌套的固化内容。</p>
		<p>如果你不理会前面的警告坚持使用嵌套的固化内容，你需要了解更多的事情来做成功的运用。在前面的代码块中，你可能希望解析器初始化两个自定义元素的实例而非前面的那种情况。相应的，行为必须理解数据岛并使用脚本进行解析。该行为必须在<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/objects/html.asp"><span>HTML</span></a>标签中包含同样的<a href="http://msdn.microsoft.com/workshop/author/dhtml/reference/properties/xmlns.asp"><span>XMLNS</span></a>属性，并使用与主文档中相同的<a href="../elements/import.html"><span>IMPORT</span></a>指令，只有这样它才可以把自定义元素的嵌套实例处理为元素行为。因为行为需要<span>HTML</span>标记结构，所以它应该是一个<b><span>Viewlink</span></b>。</p>
		<p>下面的代码块是用于解析嵌套自定义元素的<span>HTC</span>文件。</p>
		<div class="example">
			<code><b>&lt;HTML&nbsp;XMLNS:myns&gt;</b><br>&nbsp;&nbsp;&lt;HEAD&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;<b>&lt;?IMPORT&nbsp;namespace=&quot;myns&quot;&nbsp;implementation=&quot;mytag&quot;&nbsp;/&gt;</b><br>&nbsp;&nbsp;&lt;/HEAD&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;mytag&quot;&nbsp;literalcontent=&quot;nested&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PUBLIC:DEFAULTS&nbsp;<b>viewlinkcontent</b>=&quot;true&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;oncontentready&quot;&nbsp;onevent=&quot;main()&quot;/&gt;<br>&nbsp;&nbsp;&lt;/PUBLIC:COMPONENT&gt;<br>&nbsp;&nbsp;&lt;SCRIPT&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;main()<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.body.innerHTML&nbsp;=&nbsp;element.innerHTML;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<U>:</U><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&lt;/SCRIPT&gt;<br>&lt;/HTML&gt;</code>
		</div>
		<p>最后一个需求是传递自定义元素的<b><span>innerHTML</span></b>到<b><span>Viewlink</span></b>中的一个元素。而这个过程会使<a href="../events/contentready.html"><span>oncontentready</span></a>事件发生在<b><span>innerHTML</span></b>中的每一个内嵌的标签上。</p>
		<p>在这个例子文件中，自定义元素共有四层嵌套。</p>
		<div class="example">
			<code>&lt;HTML&nbsp;XMLNS:N&gt;<br>&nbsp;&nbsp;&lt;HEAD&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;TITLE&gt;Nested&nbsp;Literal&nbsp;Content&nbsp;Sample&lt;/TITLE&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;?IMPORT&nbsp;namespace=&quot;N&quot;&nbsp;implementation=&quot;LCnodeVL.htc&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&lt;/HEAD&gt;<br>&nbsp;&nbsp;&lt;BODY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;id=&quot;myDiv&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>N:NODE</b>&nbsp;ID=&quot;n1&quot;&nbsp;nodeid=&quot;1st&nbsp;Level&nbsp;Node&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>N:NODE</b>&nbsp;ID=&quot;n2&quot;&nbsp;nodeid=&quot;2nd&nbsp;Level&nbsp;Node&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>N:NODE</b>&nbsp;ID=&quot;n3&quot;&nbsp;nodeid=&quot;3rd&nbsp;Level&nbsp;Node&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;<b>N:NODE</b>&nbsp;ID=&quot;n4&quot;&nbsp;nodeid=&quot;4th&nbsp;Level&nbsp;Node&quot;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<b>N:NODE</b>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<b>N:NODE</b>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/<b>N:NODE</b>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/DIV&gt;<br>&nbsp;&nbsp;&lt;/BODY&gt;<br>&lt;/HTML&gt;</code>
		</div>
		<p>这个行为在每次<b><span>Viewlink</span></b>载入时调用一个警告对话框。</p>
		<div class="example">
			<code>&lt;HTML&nbsp;XMLNS:N&gt;<br>&nbsp;&nbsp;&lt;HEAD&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;?IMPORT&nbsp;namespace=&quot;N&quot;&nbsp;implementation=&quot;LCnodeVL.htc&quot;/&gt;<br>&nbsp;&nbsp;&lt;/HEAD&gt;<br>&nbsp;&nbsp;&lt;PUBLIC:COMPONENT&nbsp;tagname=&quot;NODE&quot;&nbsp;literalcontent=&quot;nested&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PUBLIC:PROPERTY&nbsp;name=&quot;nodeID&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PUBLIC:ATTACH&nbsp;event=&quot;oncontentready&quot;&nbsp;onevent=&quot;initNode()&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;PUBLIC:DEFAULTS&nbsp;viewlinkcontent=&quot;true&quot;&nbsp;/&gt;<br>&nbsp;&nbsp;&lt;/PUBLIC:COMPONENT&gt;<br>&nbsp;&nbsp;&lt;SCRIPT&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;element.style.display&nbsp;=&nbsp;&quot;block&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;element.style.marginLeft&nbsp;=&nbsp;&quot;21px&quot;;<br>&nbsp;&nbsp;&nbsp;&nbsp;element.style.fontWeight&nbsp;=&nbsp;&quot;bold&quot;;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;initNode()&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;alert(element.id&nbsp;+&nbsp;&quot;.innerHTML:&nbsp;&quot;&nbsp;+&nbsp;element.innerHTML);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>nodeDiv.innerHTML&nbsp;=&nbsp;&quot;&amp;#151;&nbsp;&quot;&nbsp;+&nbsp;element.nodeID&nbsp;+&nbsp;element.innerHTML;</b><br>&nbsp;&nbsp;&nbsp;&nbsp;}<br>&nbsp;&nbsp;&lt;/SCRIPT&gt;<br>&nbsp;&nbsp;&lt;BODY&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIV&nbsp;id=&quot;nodeDiv&quot;/&gt;<br>&nbsp;&nbsp;&lt;/BODY&gt;<br>&lt;/HTML&gt;</code>
		</div>
		<button href="../examples/"></button>
		<h2><label>Related Topics</label>相关主题<a name="related_topics" id="related_topics"></a></h2>
		<ul>
			<li><a href="http://msdn.microsoft.com/workshop/author/behaviors/overview.asp">《<span>DHTML</span>行为简介》</a></li>
			<li><a href="usehtmcom2impdhtbehinscr.html">《使用<span>HTML</span>组件在脚本中实现<span>DHTML</span>行为》</a></li>
			<li><a href="http://msdn.microsoft.com/workshop/author/behaviors/howto/using.asp">《使用<span>DHTML</span>行为》</a></li>
			<li><a href="abelebeh.html">《关于元素行为》</a></li>
			<li><a href="htcref.html">《<span>HTC</span>参考》</a></li>
		</ul>
	</div>
	<script type="text/javascript" src="../_shared/footer.js"></script>
</body>
</html>
