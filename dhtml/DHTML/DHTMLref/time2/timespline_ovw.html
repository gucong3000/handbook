
<HTML >
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1252" />
<TITLE>Animating with keyTimes and keySplines</TITLE>
<LINK REL="stylesheet" TYPE="text/css" HREF="../common/ie4.css" />
<LINK REL="stylesheet" TYPE="text/css" HREF="../common/ie5.css" />
<style>
BODY
{
font-family:verdana,arial,helvetica;
margin:0;
}
</style>
<SCRIPT LANGUAGE="javascript" SRC="../common/common.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../common/browdata.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../common/toolbar.js"></SCRIPT>
<LINK REL="stylesheet" TYPE="text/css" HREF="../common/css/ie4.css" />
<LINK REL="stylesheet" TYPE="text/css" HREF="../common/css/inetsdk.css" />
<LINK REL="stylesheet" TYPE="text/css" HREF="../common/default.css" />





<SCRIPT>//<!--
var gbDBG = true;
//--></SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">
//<!--
var gsHTCPath = "../common/";
var gsGraphicsPath = "../common/";
var gsCodePath = "../common/";
//--></SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">
//<!--
var gsContextMenuPath = gsHTCPath + "contextmenu.htc";
var gsCodeDecoPath = gsHTCPath + "codedeco.htc";
var gsStoreName="workshop";
var gsGraphicsPath = "../common/";
//--></SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">
//<!--
function CMemberInfo()
{   this.defView = 'all';
}
var g_oMemberInfo = new CMemberInfo();
//--></SCRIPT>
<SCRIPT LANGUAGE="JavaScript1.2">
//<!--
function InitPage()
{
if (!assert( (typeof(oBD) == 'object' && oBD != null), "browdata object unavailable!") )
{
return;
}
if ("MSIE" == oBD.browser && oBD.majorVer >= 5 && (oBD.platform.toLowerCase()!="x" && oBD.platform!="Mac" && oBD.platform!="PPC" ))
{
if (typeof(PostGBInit) == 'function') PostGBInit();
if (typeof(PostInit) == 'function') PostInit();
if (typeof(initTabbedMembers) == 'function') initTabbedMembers();
if (typeof(hideExamples) == 'function') hideExamples();
}
if (oBD.getsNavBar && oBD.platform!="PPC" )
{
if (typeof(SetShowMes) == 'function') SetShowMes();
}
}
function assert(bCond, sMsg)
{
if (bCond) { return true; }
else { if (gbDBG) { alert(sMsg); } return false; }
}
window.onload = InitPage;
//--></SCRIPT>
</HEAD> <BODY TOPMARGIN="0"  LEFTMARGIN="0" MARGINHEIGHT="0" MARGINWIDTH="0" BGCOLOR="#FFFFFF" TEXT="#000000">
<DIV CLASS="clsDocBody"><TABLE WIDTH="97%" CELLPADDING="0" CELLSPACING="0"><TR><TD><H1>Animating with keyTimes and keySplines
</H1></TD><TD ALIGN="right"><A HREF="../default.html" TITLE="This index is only for content formerly found in the Web Workshop." TARGET="_top">Internet Development Index</A></TD></TR></TABLE>
<HR SIZE="1"></HR><p>The timing and animation features provided by HTML+TIME (Timed Interactive Multimedia Extensions) make it easier to add basic animations to Web pages—just set values for a particular property of a target element over a simple duration, and you've created an animation. What's not immediately obvious is that HTML+TIME also incorporates some of the vector-drawing capabilities of the <A HREF="http://www.w3.org/tr/2000/cr-svg-20001102/index.html" TARGET="_top">Scalable Vector Graphics (SVG)</A>&nbsp;<IMG WIDTH="33" HEIGHT="11" BORDER="0" ALT="Non-Microsoft link" SRC="../common/leave-ms.gif"> syntax to provide Web authors with more sophisticated control over timing intervals and paths. Using the <A HREF="../time2/properties/keytimes.html">keyTimes</A> and <A HREF="../time2/properties/keysplines.html">keySplines</A> attributes, you can divide an animation element's simple duration into multiple segments, speed up or slow down the animation at multiple rates during a single duration, and specify values for the animation to reach at particular points in its duration. Even better, HTML+TIME makes it possible to use these features without writing script. Animating with <B>keyTimes</B> and <B>keySplines</B> enables you to do the following:</p><p><ul><li>Apply spline interpolation to timing segments of an animation. In other words, you can vary the rate at which the animation function calculates the values that drive the animation. This provides much closer control over timing and positioning during animations, but keeps your code remarkably simple.</li><li>Match time values with Bézier control points to include multiple smooth changes in element motion over the course of a single animation.</li><li>Use splines to set varied rates of change when animating colors.</li></ul></p><p>Although you can accomplish some of these effects by using script or separate <A HREF="../time2/elements/animatemotion.html">animateMotion</A> elements with the <A HREF="../time2/properties/accelerate.html">accelerate</A> and <A HREF="../time2/properties/decelerate.html">decelerate</A> attributes, it quickly becomes difficult to coordinate the timing of the various animation elements. The <B>keyTimes</B> and <B>keySplines</B> attributes provide a more flexible, immediate way to control your animation's interpolation.</p><UL><LI><A TARGET="_self" HREF="#prereq">Prerequisites</A></LI><LI><A TARGET="_self" HREF="#terms">Terms</A></LI><LI><A TARGET="_self" HREF="#paths">A Quick Look at Paths and Splines</A></LI><LI><A TARGET="_self" HREF="#times">Manage Animation Intervals with keyTimes</A></LI><LI><A TARGET="_self" HREF="#keytimes_values">Use keyTimes with a Values List</A></LI><LI><A TARGET="_self" HREF="#whats_keyspline">What is a keySpline?</A></LI><LI><A TARGET="_self" HREF="#colors">Use keyTimes and keySplines with animateColor</A></LI><LI><A TARGET="_self" HREF="#timespline_multiple">Multiple Animations with Multiple Timing Segments</A></LI><LI><A TARGET="_self" HREF="#related_topics">Related Topics</A></LI></UL><H2><A NAME="prereq"></A>Prerequisites</H2><p>To use this overview most effectively, you should have some understanding of the HTML+TIME?A HREF="../time2/behaviors/time2.html">time2</A> behavior and <A HREF="../common/author/behaviors/overview.html">Introduction to DHTML Behaviors</A>. Specifically, this overview assumes that you know how to create an Extensible Markup Language (XML) namespace and import and reference the <B>time2</B> behavior. For more information about how to do this, see <A HREF="../time2/incorporatetime2.html">Incorporate the time2 Behavior</A> and <A HREF="../common/author/behaviors/time.html#Authoring">Authoring HTML+TIME</A>.</p><H2><A NAME="terms"></A>Terms</H2><p><I>Bézier curve</I>. A curve defined by cubic equations using the coordinates of two endpoints and two control points. Bézier curves are named after mathematician Pierre Bézier. If you've used software with vector-drawing capabilities, like Microsoft?Visio? you've probably used Bézier curves.</p><p><I>Interpolation</I>. An operation that estimates a value of a series or function between two known values. In the context of HTML+TIME, an animation interpolates between given coordinates or color values over a duration. </p><p><I>Scalable Vector Graphics (SVG)</I>. A language for describing vector graphics in XML. <B>SVG</B> is currently a <A HREF="http://www.w3.org/" TARGET="_top">World Wide Web Consortium</A>&nbsp;<IMG WIDTH="33" HEIGHT="11" BORDER="0" ALT="Non-Microsoft link" SRC="../common/leave-ms.gif"> candidate. HTML+TIME's <A HREF="../time2/properties/path.html">path</A> attribute uses a subset of the <B>SVG</B> path syntax.</p><p><I>Simple duration</I>. The duration of an animation element or time container, as set by the <A HREF="../time2/properties/dur.html">dur</A> property, which distinguishes simple time from individual timing segments within an animation.</p><p><I>Spline</I>. Another term for a curve drawn with Bézier equations. In the context of HTML+TIME, spline might also mean the set of Bézier control points, corresponding to a values list, that define the interval pacing of an animation. A more detailed description of HTML+TIME's implementation of splines follows this section.</p><p><I>Vector Markup Language (VML)</I>. An XML-based markup language, supported in Microsoft?Windows?and Microsoft Office 2000, that uses the <A HREF="http://www.w3.org/tr/rec-css2/" TARGET="_top">Cascading Style Sheets (CSS), Level 2 (CSS2)</A>&nbsp;<IMG WIDTH="33" HEIGHT="11" BORDER="0" ALT="Non-Microsoft link" SRC="../common/leave-ms.gif"> to determine layout. Some of the examples in this overview animate a simple Vector Markup Language (VML) shape for demonstration purposes.</p><H2><A NAME="paths"></A>A Quick Look at Paths and Splines</H2><p>If you know all about splines and are familiar with HTML+TIME's implementation of the Scalable Vector Graphics (SVG) path and spline syntax, you might prefer to skip to the <A TARGET="_self" HREF="#times">Manage Animation Intervals with keyTimes</A> section, which describes how to use splines for timing intervals with <B>keyTimes</B> and <B>keySplines</B>. If you'd like a quick explanation of splines as they apply to paths and motion, continue reading this section.</p><p>To help clarify HTML+TIME's implementation of the <B>keyTimes</B> and <B>keySplines</B> attributes, it's useful to first discuss splines in the context of animating motion and using the <B>path</B> attribute. HTML+TIME implements SVG syntax for paths. The following example animates a <A HREF="../objects/div.html">DIV</A> element along a line between two points. Remember that any property you animate with HTML+TIME must be explicitly set on the element. You can set the property with a style class, but the examples that follow use inline style settings for simplicity's sake.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="path;M 0 0 L 200 200">
&lt;HTML XMLNS:t ="urn:schemas-microsoft-com:time"&gt;
&lt;HEAD&gt;
&lt;STYLE&gt;
.time {behavior: url(#default#time2);}
&lt;/STYLE&gt;
&lt;?IMPORT namespace="t" implementation="#default#time2"&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;t:ANIMATEMOTION begin="1" dur="3" fill="hold" targetElement="oDiv"
path="M 0 0 L 200 200" /&gt;
&lt;DIV id="oDiv" class="time" style="background-color:#FFCC00;
position:absolute;height:40;width:120;top:110;left:10;text-align:center;
font-size:18;border-style:solid"&gt;
Moving DIV&lt;/DIV&gt;
&lt;/BODY&gt;
&lt;/HTML&gt;</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_1.htm" FEATURES="top=10,left=50,height=480,width=600,status=0,resizable=1"></IMG></A></DIV><p>The <B>path</B> attribute starts a new subpath at <SPAN CLASS="clsLiteral">(0,0)</SPAN> with the absolute "move to" command  <SPAN CLASS="clsLiteral">M</SPAN>, and draws a line to <SPAN CLASS="clsLiteral">(200,200)</SPAN> with the <SPAN CLASS="clsLiteral">L</SPAN> command. In much the same way, you could set vertical or horizontal paths, specify multiple values in order to draw polylines, or specify Bézier curves. For detailed information about the <A HREF="../time2/properties/path.html">PATH</A> attribute, its possible values, and related elements and properties, see <A HREF="../time2/timeanimation_entry.html">HTML+TIME: Animation</A>. </p><p>The following example animates the same <B>DIV</B> element along a curved path.</p><DIV CLASS="clsNote"><B>
Note</B>&nbsp;&nbsp;For the following examples, the namespace declarations, import statements, and behavior implementations for HTML+TIME and VML are omitted for brevity. If you paste code from the HTML+TIME examples into your document, you must import the namespace and associate it with the <B>time2</B> behavior. </DIV><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="150 0 250 150">
&lt;t:ANIMATEMOTION begin="1" dur="3" fill="hold" targetElement="oDiv"
path="M 0 0 C 150 0 250 150 250 250" /&gt;
&lt;DIV id="oDiv" class="time" style="background-color:#FFCC00;position:absolute;
height:40;width:120;top:110;left:10;text-align:center;font-size:18;
border-style:solid"&gt;
Moving DIV&lt;/DIV&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_2.htm" FEATURES="top=10,left=50,height=525,width=600,status=0,resizable=1"></IMG></A></DIV><p>In this case, the <B>PATH</B> attribute draws a cubic Bézier curve from (0,0) to (250,250) using two control points at (150,0) and (250,150). Because the <B>DIV</B> is offset from the top and left by 10 pixels, it finishes the animation's duration at (260,260). Here's a diagram that shows a similar curve with the control points.</p><p><img src="../common/ART_keytimepath1.gif" alt="Basic arc spline with two endpoints and two control points"></img></p><p>In much the same way, you can change the control points to produce a recurved path.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="0 300 250 0">
&lt;t:ANIMATEMOTION begin="1" dur="3" fill="hold" targetElement="oDiv"
path="M 0 0 C 0 300 250 0 250 300" /&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_3.htm" FEATURES="top=10,left=50,height=550,width=625,status=0,resizable=1"></IMG></A></DIV><p>Here's the same idea in a diagram showing the control points.</p><p><img src="../common/ART_keytimepath2.gif" alt="Basic recurve spline with two endpoints and two control points"></img></p><p>You can create a similar path by using two curve segments and the corresponding control points. As your curves become more complex, this becomes a more useful strategy. In the following example, the animation begins at (0,0) as before, and animates the <B>DIV</B> along a curve to the endpoint (150,150) using the control points (250,50) and (250,100). The first segment's endpoint becomes the start point of the next segment, which draws another curve between (150,150) and (250,300) using two more control points, (0,200) and (0,250).</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="250 50 250 100;0 200 0 250">
&lt;t:ANIMATEMOTION begin="1" dur="3" fill="hold" targetElement="oDiv"
path="M 0 0 C 250 50 250 100 150 150 0 200 0 250 250 300" /&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_4.htm" FEATURES="top=10,left=50,height=525,width=625,status=0,resizable=1"></IMG></A></DIV><H2><A NAME="times"></A>Manage Animation Intervals with keyTimes</H2><p>Now that you've acquainted yourself with the basic ideas that govern cubic Bézier curves, you can apply those ideas to timing intervals. In the same way that a spline describes a curve by specifying change in the path between two endpoints over a given range of coordinate values, the <B>keyTimes</B> and <B>keySplines</B> attributes can help you specify change in other values that you want to animate over time—color, speed, position, style, and so on. The following discussion concerns some ways to use <B>keyTimes</B> and <B>keySplines</B>.</p><H2><A NAME="keytimes_values"></A>Use keyTimes with a Values List</H2><p>The <B>keyTimes</B> attribute enables you to designate intervals, or timing segments, that subdivide an animation's simple duration. The <B>keyTimes</B> attribute specifies a semicolon-delimited list of time values. These values represent a proportional offset into the simple duration of the animation. When used with <A HREF="../time2/properties/calcmode.html">calcMode</A> settings of <SPAN CLASS="clsLiteral">linear</SPAN> or <SPAN CLASS="clsLiteral">spline</SPAN>, use the following restrictions with <B>keyTimes</B> settings. The first value must be 0; subsequent values must be greater than 0 and less than 1; and the last value must be 1. Each successive time value in the series must be greater than or equal to the preceding time value. </p><p>If you use the <B>keyTimes</B> attribute with <B>calcMode</B> set to <SPAN CLASS="clsLiteral">discrete</SPAN>, the rules are slightly different. The first <B>keyTimes</B> value must be 0; subsequent values must be greater than 0 and less than 1. The last value, however, must be greater than the preceding value, but can be less than 1. This is because the <SPAN CLASS="clsLiteral">discrete</SPAN> setting for the <B>calcMode</B> attribute specifies that the animation reflects each value in a <A HREF="../time2/properties/values.html">values</A> list exactly at the corresponding <B>keyTimes</B> value. If you set the last <B>keyTimes</B> value to 1, your animation will only attain the last value in the <B>values</B> list at the time the animation's duration ends—the viewer won't see it.</p><p>Keep in mind that if the values you specify for <B>keyTimes</B> do not meet these requirements, the animation either will not work as expected or will not work at all. Similarly, if you use <B>keyTimes</B> with the <B>values</B> attribute, you must specify the same number of values in <B>keyTimes</B> as in the <B>values</B> list. Otherwise, the animation will not work.</p><p>Suppose you want to animate the width of a simple vector-drawn shape. Use the <B>values</B> attribute to set a list of values for the shape's width; use the <B>keyTimes</B> list to specify the length of the time segments for each interval between width values during the course of the animation.
How the animation interpolates the shape's width during those intervals depends on the value set for the animation's <B>calcMode</B> attribute, which can be set to <SPAN CLASS="clsLiteral">linear</SPAN>, <SPAN CLASS="clsLiteral">discrete</SPAN>, or <SPAN CLASS="clsLiteral">spline</SPAN>. Note that setting calcmode to <SPAN CLASS="clsLiteral">paced</SPAN> overrides any <B>keyTimes</B> list, since the <SPAN CLASS="clsLiteral">paced</SPAN> value specifies that the animation interpolate the width at an even pace through the animation's duration.</p><DIV CLASS="clsNote"><B>
Note</B>&nbsp;&nbsp;The following example animates a VML shape.  Much like HTML+TIME elements, VML elements are defined with an XML namespace that must be declared in your page. For more information about VML, see <A HREF="../common/author/vml/default.html" TARGET="_top">Vector Markup Language (VML)</A>, the <A HREF="http://www.w3.org/TR/NOTE-VML.html" TARGET="_top">Vector Markup Language (VML) Specification</A>&nbsp;<IMG WIDTH="33" HEIGHT="11" BORDER="0" ALT="Non-Microsoft link" SRC="../common/leave-ms.gif">, and <A HREF="../common/author/behaviors/overview.html">Introduction to DHTML Behaviors</A>.</DIV><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="values=&quot;100; 300; 500&quot;;keyTimes=&quot;0;.7; 1&quot;">
&lt;t:ANIMATE id="oAnim" begin="1" dur="5" fill="hold" targetElement="oOval"
attributeName="width" calcMode="linear" values="100; 300; 500"
keyTimes="0;.7; 1" /&gt;
&lt;v:oval id="oOval" class="time" fillcolor="red" style="position:absolute;
top:200;left:50;width:100;height:100" /&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_6.htm" FEATURES="top=10,left=50,height=480,width=650,status=0,resizable=1"></IMG></A></DIV><p>In this example, the <B>keyTimes</B> list divides the animation's duration into two sections: the first, from the start of the animation to 3.5 seconds (or .7 of the duration); the second, from 3.5 seconds to the end at 5 seconds. Notice that the oval widens more quickly toward the end of the duration. Because <B>calcMode</B> is set to <SPAN CLASS="clsLiteral">linear</SPAN>, the animation uses a linear interpolation to calculate the oval's width during each time segment. During the first segment, the width increases by 200 pixels in 3.5 seconds, but during the second segment, the width increases by 200 pixels in 1.5 seconds, requiring a faster rate of change.</p><p>There are several ways to use <B>keyTimes</B>. You might set <B>calcMode</B> to <SPAN CLASS="clsLiteral">discrete</SPAN> and use the <B>keyTimes</B> list to set specific timing for many quick changes to a particular property during an animation. In this case, <B>keyTimes</B> lets you specify all the timing changes for a single property with a single animation element, helping simplify your markup if you have other complex timelines involved with the same animation.
The <B>keyTimes</B> attribute is also useful when you want to begin or end other animation timelines when the property you're animating reaches a certain value. You can associate a value in the <B>values</B> list with a value in the <B>keyTimes</B> list and organize the timing of other animation elements accordingly.</p><H2><A NAME="whats_keyspline"></A>What is a keySpline?</H2><p>To understand the <B>keySplines</B> property, it's helpful to keep in mind the preceding discussion of Bézier curves and control points. The <B>keySplines</B> property enables you to determine how an animation is interpolated during a time segment. With <B>keySplines</B>, instead of the location coordinates you specify with the <B>PATH</B> attribute, you specify timing coordinates for the pacing of an animation's simple duration. In other words, the values you set for <B>keySplines</B> are the Bézier "control points" for a curve. The curve represents the rate of change in the animation's target attribute over the time segment.</p><p>The values you set with <B>keyTimes</B> represent the anchor points of this curve. Because each successive <B>keyTimes</B> value represents a proportional offset into the simple duration of the animation, the key times begin at 0 and end at 1, with 1 representing the whole duration. For this reason, the coordinates of the control points you specify with <B>keySplines</B> must be greater or equal to 0 and less than or equal to 1. Each interval between <B>keyTimes</B> values defines a time segment for which you can set <B>keySplines</B> values, so you'll always have one fewer set of <B>keySplines</B> values than <B>keyTimes</B> values.</p><p>Though <B>keyTimes</B> and <B>keySplines</B> determine the interval pacing of the animation, there's one more set of values to keep in mind: the values for the property you want to animate. In the case of an <B>animateMotion</B> element, you could provide these values with the <B>path</B> attribute or with coordinates in a <B>values</B> list. For other animation elements, the values to be interpolated by the animation element appear in the <B>values</B> list. To put it still another way: the values list is the set of "hoops" through which you want the animation to jump. It can jump according to whatever interpolation you set—setting <B>keyTimes</B> and <B>keySplines</B> ensures that your interpolation takes on a certain "shape" (rate of change) between hoops.</p><DIV CLASS="clsNote"><B>
Note</B>&nbsp;&nbsp; If you set <B>keySplines</B> on an element without also setting <B>keyTimes</B>, or if you set invalid values for either property, your animation either will not appear or will not reflect your settings.</DIV><p>In the following example, the <B>keySplines</B> settings for a simple straight-line <B>animateMotion</B> element specify that the animation moves quickly at the start of its duration and decelerates toward the end. You can also compare the animation using <B>keySplines</B> to the same animation with <B>calcMode</B> set to <SPAN CLASS="clsLiteral">linear</SPAN> or <SPAN CLASS="clsLiteral">discrete</SPAN>.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="keyTimes=&quot;0;1&quot;;keySplines=&quot;0 .75 .25 1&quot;">
&lt;t:ANIMATEMOTION id="oAnim" begin="1" dur="5" fill="hold" targetElement="oOval"
calcMode="spline" path="M 0 0 L 500 0" keyTimes="0;1"
keySplines="0 .75 .25 1" /&gt;
&lt;v:oval id="oOval" class="time" fillcolor="red"
style="position:absolute;top:180;left:50;width:30;height:30" /&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_6a.htm" FEATURES="top=10,left=50,height=420,width=625,status=0,resizable=1"></IMG></A></DIV><p>In looking at the diagrams that follow, think of the horizontal axis as the pace with which the interpolation proceeds along the timing interval. The vertical axis is the resulting value for the animation's progress, yielded by the function that underlies the <B>keySplines</B> property. Another way of describing this is that the horizontal axis is the input unit time for the interval, and the vertical axis is the output unit time. </p><DIV CLASS="clsNote"><B>
Note</B>&nbsp;&nbsp;The following diagrams are reproduced from the <B>World Wide Web Consortium</B>?A HREF="http://www.w3.org/tr/smil20/" TARGET="_top">Synchronized Multimedia Integration Language (SMIL) 2.0</A>&nbsp;<IMG WIDTH="33" HEIGHT="11" BORDER="0" ALT="Non-Microsoft link" SRC="../common/leave-ms.gif"> specification.</DIV><table class="clsStd"><tr><td><DIV STYLE="text-align:center"><img align="center" alt="Example keySplines01 -
keySplines of 0 0 1 1 (the default)" width="172" height="174" src="../common/interpSpline01.gif"></img></DIV></td><td><DIV STYLE="text-align:center"><img align="center" alt="Example keySplines02 -
keySplines of .5 0 .5 1" src="../common/interpSpline02.gif" width="172" height="174"></img></DIV></td></tr><tr><td>keySplines="0???" (the default)</td><td>keySplines=".5??5?"</td></tr><tr><td><DIV STYLE="text-align:center"><img align="center" alt="Example keySplines03 - keySplines of 0 .75 .25
1" src="../common/interpSpline03.gif" width="172" height="174"></img></DIV></td><td><DIV STYLE="text-align:center"><img align="center" alt="Example keySplines04 - keySplines of 1 0 .25
.25" src="../common/interpSpline04.gif" width="172" height="174"></img></DIV></td></tr><tr><td>keySplines="0?75?25?"</td><td>keySplines="1??25?25"</td></tr></table><p>To see how these values for <B>keySplines</B> affect an animation, click the appropriate buttons in the following example.</p><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_6d.htm" FEATURES="top=10,left=50,height=450,width=650,status=0,resizable=1"></IMG></A></DIV><H2><A NAME="colors"></A>Use keyTimes and keySplines with animateColor</H2><p>You can control the interpolation of an animated color property with <B>keyTimes</B> and <B>keySplines</B> just as you can control interpolation with motion animations. Ordinarily, you might use the <A HREF="../time2/properties/to_2.html">to</A>, <A HREF="../time2/properties/from_2.html">from</A>, or <A HREF="../time2/properties/by_2.html">by</A> attributes of <A HREF="../time2/elements/animatecolor.html">animateColor</A> to change the target element's color attribute from one color value to another. The animation then proceeds using linear, discrete, or paced interpolation, depending on the setting you specify for the <B>animateColor</B> element's <A HREF="../time2/properties/calcmode_3.html">calcMode</A> attribute. However, you might want to smoothly vary the rate at which the target element's color value is interpolated across the animation's duration. To accomplish this, set one or a combination of several attributes on the <B>animateColor</B> element: either <A HREF="../time2/properties/values_2.html">values</A> and <B>keyTimes</B>, or <B>keyTimes</B> and <B>keySplines</B>. The following example uses <B>animateColor</B> to animate a shape's fill color through a series of color values. </p><DIV CLASS="clsNote"><B>
Note</B>&nbsp;&nbsp;When you set the <B>values</B>, <A HREF="../time2/properties/to.html">to</A>, <A HREF="../time2/properties/from.html">from</A>, or <A HREF="../time2/properties/by.html">by</A> attributes on an <B>animateColor</B> element, valid attribute values are hexadecimal RGB values or the keywords that represent them (for example, <SPAN CLASS="clsLiteral">#8A2BE2</SPAN> or <SPAN CLASS="clsLiteral">blueviolet</SPAN>).</DIV><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="values">
&lt;v:oval id="oOval" class="time" fillcolor="red"
style="position:absolute;top:120;left:70;width:200;height:200" /&gt;
&lt;t:ANIMATECOLOR id="aColor" targetElement="oOval" begin="1" dur="10"
fill="hold" attributeName="fillcolor" calcMode="linear"
values="red;#00FF00;#0000FF" /&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_11.htm" FEATURES="top=10,left=50,height=450,width=650,status=0,resizable=1"></IMG></A></DIV><p>By setting the <B>keyTimes</B> attribute on <I>aColor</I>, you gain finer control over the timing of the oval's color changes. To make the oval's color change slowly from red to green, and quickly from green to blue, set a shorter timing segment between the values <SPAN CLASS="clsLiteral">#00FF00</SPAN> and <SPAN CLASS="clsLiteral">#0000FF</SPAN> in the <B>keyTimes</B> list.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="keyTimes=&quot;0;.7;1&quot;">
&lt;v:oval id="oOval" class="time" fillcolor="red"
style="position:absolute;top:120;left:70;width:200;height:200" /&gt;
&lt;t:ANIMATECOLOR id="aColor" targetElement="oOval" begin="1" dur="10"
fill="hold" attributeName="fillcolor" calcMode="linear"
values="red;#00FF00;#0000FF" keyTimes="0;.7;1"/&gt;
</PRE><p>By adding <B>keySplines</B> to this example, you can change the rate of interpolation for each segment as well as its length. In the following example, the first time segment animates the oval's fill color from red to <SPAN CLASS="clsLiteral">#00FF00</SPAN> (<SPAN CLASS="clsLiteral">lime</SPAN>) over the first seven-tenths of the simple duration; it uses the <B>keySplines</B> values (.75 0 1 .25) to specify that the color change happens slowly at first, then gradually speeds up. At the second segment, from seven-tenths of the duration to the end, the animation uses the <B>keySplines</B> values (0 0 1 1) to animate the fill color from <SPAN CLASS="clsLiteral">#00FF00</SPAN> (<SPAN CLASS="clsLiteral">lime</SPAN>) to <SPAN CLASS="clsLiteral">#0000FF</SPAN> (<SPAN CLASS="clsLiteral">blue</SPAN>). Because these values describe a straight line from (0,0) to (1,1), you see a linear interpolation from <SPAN CLASS="clsLiteral">#00FF00</SPAN> to <SPAN CLASS="clsLiteral">#0000FF</SPAN> at the end of the animation. Click the <B>Show Me</B> button to compare the animation using <B>keyTimes</B> and <B>keySplines</B> to <SPAN CLASS="clsLiteral">discrete</SPAN> and <SPAN CLASS="clsLiteral">paced</SPAN> animation settings.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="keyTimes=&quot;0;.7;1&quot;;keySplines=&quot;.75 0 1 .25;0 0 1 1&quot;">
&lt;v:oval id="oOval" class="time" fillcolor="red"
style="position:absolute;top:70;left:100;width:200;height:200"/&gt;
&lt;t:ANIMATECOLOR id="aColor" targetElement="oOval" begin="1" dur="10"
fill="hold" attributeName="fillcolor" calcMode="linear"
values="red;#00FF00;#0000FF" keyTimes="0;.7;1"
keySplines=".75 0 1 .25;0 0 1 1"/&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/testspline_12.htm" FEATURES="top=10,left=50,height=450,width=625,status=0,resizable=1"></IMG></A></DIV><H2><A NAME="timespline_multiple"></A>Multiple Animations with Multiple Timing Segments</H2><p>It's fairly straightforward to make a basic animation more complex by adding further animation elements and timelines. Here's a VML shape animated along a curved path. In this case, <B>keyTimes</B> and <B>keySplines</B> allow smooth acceleration and deceleration of the object to suggest inertia.</p><PRE CLASS="clsCode" AUTOHILITE="1" HILITE="0 0.7 0.5 0.9;0.8 0.2 0.7 0.2;">
&lt;t:ANIMATEMOTION id="o1" begin="0" dur="2.7" targetElement="vm1"
path="M 200 500 C 212.5 200 225 6 287.5 0 325 2 337.5 37 350 125"
calcMode="spline" keyTimes="0;.55;1"
keySplines="0 0.7 0.5 0.9;0.8 0.2 0.7 0.2"&gt;
&lt;v:oval id="vm1" class="time" fillcolor="yellow"
style="position:absolute;top:50;left:50;width:10;height:10"/&gt;
&lt;/t:ANIMATEMOTION&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/timespline_6a.htm" FEATURES="top=10,left=50,height=625,width=625,status=0,resizable=1"></IMG></A></DIV><p>To make this more interesting, add a couple of short animation blocks to change the object's shape and color.</p><PRE CLASS="clsCode" AUTOHILITE="1">
&lt;!-- bang animation for vm1 object --&gt;
&lt;t:ANIMATE id="c1" begin="2.3" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="height" values="5;50" keyTimes="0;1"
keySplines="0 0.6 0.7 1"/&gt;
&lt;t:ANIMATE id="c2" begin="2.3" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="width" values="5;50" keyTimes="0;1"
keySplines="0 0.6 0.7 1"/&gt;
&lt;t:ANIMATECOLOR id="c3" begin="2.3" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="fillcolor" values="yellow;orange"
keyTimes="0;1" keySplines="0 0.6 0.7 1"/&gt;
&lt;t:ANIMATE id="c4" begin="2.5" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="height" values="5;70" keyTimes="0;1"
keySplines="0 0.6 0.7 1"/&gt;
&lt;t:ANIMATE id="c5" begin="2.5" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="width" values="5;70" keyTimes="0;1"
keySplines="0 0.6 0.7 1"/&gt;
&lt;t:ANIMATECOLOR id="c6" begin="2.5" dur=".2" calcmode="spline"
targetElement="vm1" attributeName="fillcolor" values="#FF4500;#FF1493"
keyTimes="0;1" keySplines="0 0.6 0.7 1"/&gt;
</PRE><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/timespline_6b.htm" FEATURES="top=10,left=50,height=625,width=625,status=0,resizable=1"></IMG></A></DIV><p>After animating the first arc, it's easier to add subsidiary shapes and animations. Though the elements in the example that follow are all grouped in a basic <A HREF="../time2/time/elements/par.html">t:PAR</A> time container and use specific begin times, you could also set some of the animation elements to begin relative to other elements, or relative to other events on the page. For example, you might want to play a short animation when the user moves the mouse pointer over part of your table of contents, or when the user clicks a particular part of the page. For more information, see <A HREF="../time2/begin_ovw.html">Initiating Timed Elements with the begin Attribute</A>.</p><p>Here's a more elaborate version of the preceding examples, with some additional shapes in motion.</p><DIV><DIV CLASS="clsShowMe">This feature requires Microsoft?Internet Explorer 5.5 or later. Click the following icon to install the latest version. Then reload this page to view the sample.</DIV><A HREF="../common/downloadie.html"><IMG BORDER="0" WIDTH="88" HEIGHT="31" showme="Microsoft Internet Explorer" SRC="../common/ieget_animated.gif" MINVER="5.5" SAMPLEPATH="../common/samples/author/behaviors/timespline_7.htm" FEATURES="top=10,left=50,height=600,width=700,status=0,resizable=1"></IMG></A></DIV><H2><A NAME="related_topics">Related Topics</A></H2><P></P><UL><LI><A HREF="time.html">Introduction to HTML+TIME</A></LI><LI><A HREF="htmltime.html" TARGET="_top">Spice Up Your Web Pages with HTML+TIME</A></LI><LI><A HREF="timeanimation.html" TARGET="_top">Basics of HTML+TIME Animation</A></LI></UL><info><product rid="prod_IE" minver="5.5"></product><platform rid="plat_win" minver="95"></platform><platform rid="plat_nt" minver="4.0"></platform></info></DIV>
</TD> </TR> </TABLE>
</BODY> </html>